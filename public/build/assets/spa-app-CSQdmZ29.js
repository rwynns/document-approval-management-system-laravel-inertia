import{j as e,r as l}from"./app-CNJch6fJ.js";import{B as h}from"./button-Bc8fY39k.js";import{C as g,a as f,b as j,c as b,d as N}from"./card-BdiGcNVe.js";import{I as m}from"./input-L_-VHgZB.js";import{L as x}from"./label-Ch3Qpvdb.js";import{A as v,u as o}from"./AuthContext-Cflniwk8.js";import y from"./role-management-CtWMzGrv.js";/* empty css            */import"./index-BeHAPgjQ.js";import"./api-BCiONhZ8.js";import"./NotificationListener-CHbz9J81.js";import"./loader-circle-DS5R5jI-.js";import"./file-text-Cn-yV2BY.js";import"./user-BJizuUvm.js";import"./site-header-1ZLAZI7i.js";import"./table-dbNKOOTV.js";import"./toast-CBrN9sog.js";import"./IconShield-VS74m0Xt.js";import"./createReactComponent-CAvr32i6.js";import"./activity-5R1ujG4d.js";import"./IconPlus-DwaGKv2n.js";import"./IconEdit-CcmCEER-.js";import"./IconTrash-MfoBVftz.js";const w=()=>{const{login:r}=o(),[s,a]=l.useState({email:"",password:""}),[t,n]=l.useState(!1),[d,c]=l.useState(""),p=async i=>{i.preventDefault(),n(!0),c("");try{await r(s.email,s.password)}catch(u){c(u.response?.data?.message||"Login failed")}finally{n(!1)}};return e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50",children:e.jsxs(g,{className:"w-full max-w-md",children:[e.jsxs(f,{children:[e.jsx(j,{className:"text-center font-serif text-2xl",children:"SPA Login"}),e.jsx(b,{className:"text-center font-sans",children:"Login dengan Sanctum Authentication"})]}),e.jsx(N,{children:e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[d&&e.jsx("div",{className:"rounded-lg border border-red-300 bg-red-50 p-3 text-sm text-red-700",children:d}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"email",children:"Email"}),e.jsx(m,{id:"email",type:"email",value:s.email,onChange:i=>a({...s,email:i.target.value}),placeholder:"admin@example.com",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"password",children:"Password"}),e.jsx(m,{id:"password",type:"password",value:s.password,onChange:i=>a({...s,password:i.target.value}),placeholder:"password123",required:!0})]}),e.jsx(h,{type:"submit",className:"w-full",disabled:t,children:t?"Logging in...":"Login"})]})})]})})},S=()=>{const{user:r,logout:s}=o(),[a,t]=l.useState("dashboard"),n=()=>{switch(a){case"roles":return e.jsx(y,{});default:return e.jsx("div",{className:"flex min-h-screen flex-1 flex-col bg-white",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"font-serif text-2xl font-bold",children:"SPA Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Welcome to the SPA version with Sanctum auth!"}),e.jsxs("p",{className:"mt-2",children:["User: ",r?.name," (",r?.email,")"]})]})})}};return e.jsxs("div",{className:"flex min-h-screen",children:[e.jsxs("div",{className:"w-64 bg-gray-900 text-white",children:[e.jsx("div",{className:"p-4",children:e.jsx("h2",{className:"font-serif text-lg font-bold",children:"SPA Navigation"})}),e.jsxs("nav",{className:"mt-4",children:[e.jsx("button",{onClick:()=>t("dashboard"),className:`w-full px-4 py-2 text-left hover:bg-gray-800 ${a==="dashboard"?"bg-gray-800":""}`,children:"Dashboard"}),e.jsx("button",{onClick:()=>t("roles"),className:`w-full px-4 py-2 text-left hover:bg-gray-800 ${a==="roles"?"bg-gray-800":""}`,children:"Role Management"})]}),e.jsx("div",{className:"absolute bottom-4 left-4",children:e.jsx(h,{onClick:s,variant:"outline",size:"sm",children:"Logout"})})]}),e.jsx("div",{className:"flex-1",children:n()})]})},A=()=>{const{user:r,loading:s}=o();return s?e.jsx("div",{className:"flex min-h-screen items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto h-8 w-8 animate-spin rounded-full border-b-2 border-primary"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Loading..."})]})}):r?e.jsx(S,{}):e.jsx(w,{})};function V(){return e.jsx(v,{children:e.jsx(A,{})})}export{V as default};
