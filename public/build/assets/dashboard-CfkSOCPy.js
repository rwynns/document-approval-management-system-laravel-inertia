import{j as e,L as n,H as C}from"./app-CNJch6fJ.js";import{B as v,S as A,N as T,A as D,a as S}from"./NotificationListener-CHbz9J81.js";import{S as I}from"./site-header-1ZLAZI7i.js";import{a as y,B as t}from"./button-Bc8fY39k.js";import{C as d,d as c,a as j,b as p}from"./card-BdiGcNVe.js";import{T as M,a as P,b as u,c as m,d as _,e as x}from"./table-dbNKOOTV.js";import{F as w}from"./file-text-Cn-yV2BY.js";import{E as z}from"./eye-D7yVw-EQ.js";import{I as U}from"./IconUser-CFX-ui2T.js";import{I as f}from"./IconUpload-0pPEbrfm.js";import{I as N}from"./IconFileText-CQlGGR13.js";import{C as h}from"./circle-check-Bn1A0iOv.js";import{C as g}from"./clock-CjeLcntR.js";import{C as b}from"./circle-x-CSWeUvJ8.js";import{P as F}from"./plus-BJQlIx4e.js";import{I as H}from"./IconClock-CwJseAXp.js";import{S as q}from"./square-pen-D3BDszsU.js";/* empty css            */import"./index-BeHAPgjQ.js";import"./loader-circle-DS5R5jI-.js";import"./user-BJizuUvm.js";import"./createReactComponent-CAvr32i6.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],L=y("FilePlus",B);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],V=y("FileUp",R);function E({documents:l=[]}){const r=s=>{switch(s?.toLowerCase()){case"approved":return"default";case"pending":case"in_review":return"secondary";case"rejected":return"destructive";case"draft":return"outline";default:return"outline"}};return!l||l.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed p-8 text-center",children:[e.jsx(w,{className:"h-10 w-10 text-muted-foreground"}),e.jsx("h3",{className:"mt-4 text-lg font-semibold",children:"No documents yet"}),e.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Get started by creating your first document."}),e.jsx(t,{asChild:!0,className:"mt-4",children:e.jsx(n,{href:"/dokumen",children:"Create Document"})})]}):e.jsx("div",{className:"rounded-md border",children:e.jsxs(M,{children:[e.jsx(P,{children:e.jsxs(u,{children:[e.jsx(m,{children:"Document"}),e.jsx(m,{children:"Category"}),e.jsx(m,{children:"Status"}),e.jsx(m,{children:"Submitted"}),e.jsx(m,{className:"text-right",children:"Actions"})]})}),e.jsx(_,{children:l.map(s=>e.jsxs(u,{children:[e.jsx(x,{className:"font-medium",children:s.name}),e.jsx(x,{className:"text-muted-foreground",children:s.category}),e.jsx(x,{children:e.jsx(v,{variant:r(s.status),children:s.status})}),e.jsx(x,{className:"text-muted-foreground",children:s.submitted_at}),e.jsx(x,{className:"text-right",children:e.jsx(t,{variant:"ghost",size:"sm",asChild:!0,children:e.jsx(n,{href:`/dokumen/${s.id}`,children:e.jsx(z,{className:"h-4 w-4"})})})})]},s.id))})]})})}function oe({user:l,statistics:r,recent_documents:s,available_masterflows:i,recent_activity:o=[]}){const k=a=>{switch(a){case"approved":return e.jsx(h,{className:"mt-0.5 h-4 w-4 text-green-500"});case"rejected":return e.jsx(b,{className:"mt-0.5 h-4 w-4 text-red-500"});case"submitted":return e.jsx(V,{className:"mt-0.5 h-4 w-4 text-orange-500"});case"created":return e.jsx(L,{className:"mt-0.5 h-4 w-4 text-blue-500"});case"revised":return e.jsx(q,{className:"mt-0.5 h-4 w-4 text-purple-500"});default:return e.jsx(g,{className:"mt-0.5 h-4 w-4 text-gray-500"})}};return e.jsxs(e.Fragment,{children:[e.jsx(C,{title:"User Dashboard"}),e.jsxs(A,{children:[e.jsx(T,{}),e.jsx(D,{variant:"inset"}),e.jsxs(S,{children:[e.jsx(I,{}),e.jsx("div",{className:"flex flex-1 flex-col",children:e.jsx("div",{className:"@container/main flex flex-1 flex-col gap-2 p-6",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("h1",{className:"flex items-center gap-2 font-serif text-2xl font-bold tracking-tight text-foreground",children:[e.jsx(U,{className:"h-6 w-6 text-primary"}),"Welcome back, ",l?.name]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Track and manage your document submissions."}),e.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("strong",{children:"Company:"})," ",l?.company||"No Company Assigned"]}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("strong",{children:"Position:"})," ",l?.jabatan||"No Position Assigned"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(v,{variant:"outline",className:"text-xs",children:[l?.role," Access"]}),e.jsx(n,{href:"/dokumen",children:e.jsxs(t,{size:"sm",className:"flex",children:[e.jsx(f,{className:"mr-2 h-4 w-4"}),"Upload Document"]})})]})]}),((r.pending_approvals??0)>0||(r.processed_approvals??0)>0)&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"mb-2 font-serif text-lg font-semibold text-foreground",children:"My Approval Tasks"}),e.jsxs("div",{className:"mb-8 grid gap-4 md:grid-cols-2",children:[e.jsx(d,{className:"border-orange-200 bg-orange-50/50",children:e.jsxs(c,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-orange-900",children:"Pending Approvals"}),e.jsx("p",{className:"text-3xl font-bold text-orange-700",children:r.pending_approvals||0})]}),e.jsx(N,{className:"h-8 w-8 text-orange-500"})]}),e.jsx("div",{className:"mt-4",children:e.jsx(n,{href:"/approvals",children:e.jsx(t,{size:"sm",className:"w-full bg-orange-600 text-white hover:bg-orange-700",children:"Review Documents"})})})]})}),e.jsx(d,{className:"border-blue-200 bg-blue-50/50",children:e.jsxs(c,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Processed Approvals"}),e.jsx("p",{className:"text-3xl font-bold text-blue-700",children:r.processed_approvals||0})]}),e.jsx(h,{className:"h-8 w-8 text-blue-500"})]}),e.jsx("div",{className:"mt-4",children:e.jsx(n,{href:"/approvals?status=approved",children:e.jsx(t,{variant:"outline",size:"sm",className:"w-full border-blue-200 text-blue-700 hover:bg-blue-100",children:"View History"})})})]})})]})]}),e.jsx("h2",{className:"mb-2 font-serif text-lg font-semibold text-foreground",children:"My Documents"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsx(d,{className:"border-border bg-card",children:e.jsx(c,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"My Pending Documents"}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:r?.pending_documents||0})]}),e.jsx(g,{className:"h-8 w-8 text-orange-500"})]})})}),e.jsx(d,{className:"border-border bg-card",children:e.jsx(c,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Approved Documents"}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:r?.approved_documents||0})]}),e.jsx(h,{className:"h-8 w-8 text-green-500"})]})})}),e.jsx(d,{className:"border-border bg-card",children:e.jsx(c,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Rejected Documents"}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:r?.rejected_documents||0})]}),e.jsx(b,{className:"h-8 w-8 text-red-500"})]})})}),e.jsx(d,{className:"border-border bg-card",children:e.jsx(c,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Submitted"}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:r?.total_submitted||0})]}),e.jsx(w,{className:"h-8 w-8 text-blue-500"})]})})})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-4 lg:col-span-2",children:[e.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("h2",{className:"font-serif text-lg font-semibold text-foreground",children:"My Documents"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{href:"/dokumen",children:e.jsx(t,{variant:"outline",size:"sm",className:"sm:hidden",children:e.jsx(F,{className:"h-4 w-4"})})}),e.jsx(n,{href:"/dokumen",children:e.jsxs(t,{size:"sm",className:"hidden sm:flex",children:[e.jsx(f,{className:"mr-2 h-4 w-4"}),"Upload New"]})})]})]}),e.jsx(E,{documents:s})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(d,{className:"border-border bg-card",children:[e.jsx(j,{children:e.jsxs(p,{className:"flex items-center gap-2 text-base font-medium text-foreground",children:[e.jsx(H,{className:"h-4 w-4"}),"Recent Activity"]})}),e.jsx(c,{className:"space-y-3",children:o&&o.length>0?o.map(a=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:k(a.action)}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-foreground",children:a.description}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a.timestamp})]})]},a.id)):e.jsx("div",{className:"py-4 text-center text-sm text-muted-foreground",children:"No recent activity."})})]}),i&&i.length>0&&e.jsxs(d,{className:"border-border bg-card",children:[e.jsx(j,{children:e.jsxs(p,{className:"flex items-center gap-2 text-base font-medium text-foreground",children:[e.jsx(N,{className:"h-4 w-4"}),"Available Workflows"]})}),e.jsxs(c,{className:"space-y-3",children:[i.slice(0,3).map(a=>e.jsx("div",{className:"rounded-md border border-border p-3",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("h4",{className:"text-sm font-medium text-foreground",children:a.name}),e.jsx("p",{className:"line-clamp-2 text-xs text-muted-foreground",children:a.description||"No description available"}),e.jsxs("div",{className:"flex items-center justify-between pt-1",children:[e.jsxs("span",{className:"text-xs text-muted-foreground",children:[a.steps_count," steps"]}),e.jsx(t,{variant:"outline",size:"sm",className:"h-6 px-2 text-xs",children:"Use"})]})]})},a.id)),i.length>3&&e.jsxs(t,{variant:"outline",size:"sm",className:"w-full text-xs",children:["View All (",i.length," workflows)"]})]})]})]})]})]})})})]})]})]})}export{oe as default};
